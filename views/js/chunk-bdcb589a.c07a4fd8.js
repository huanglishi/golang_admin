(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdcb589a"],{"33cf":function(e,a,t){},"83c7":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"layerbox"},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",{staticClass:"roiders",attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,label:"选择分类","has-feedback":""}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["cid",{rules:[{required:!0,message:"请选择分类！"}]}],expression:"['cid', {rules: [{required: true, message: '请选择分类！'}]}]"}],attrs:{allowClear:"",placeholder:"选择分类"}},e._l(e.catelist,(function(a){return t("a-select-option",{key:a.id,attrs:{value:a.id}},[t("span",{domProps:{innerHTML:e._s(a.name_txt)}})])})),1)],1),t("a-form-item",{staticClass:"roiders",attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"接口名称",hasFeedback:""}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{initialValue:e.savedata.title,rules:[{required:!0,min:1,message:"请输入至少1个字符的接口名称！"}]}],expression:"['title', {initialValue:savedata.title,rules: [{required: true, min: 1, message: '请输入至少1个字符的接口名称！'}]}]"}],attrs:{placeholder:"填写接口名字",allowClear:""}})],1),t("a-form-item",{staticClass:"roiders",attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据表名",hasFeedback:""}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["table_name",{initialValue:e.savedata.table_name,rules:[{required:!0,min:1,message:"请输入至少1个字符的数据表名！"}]}],expression:"['table_name', {initialValue:savedata.table_name,rules: [{required: true, min: 1, message: '请输入至少1个字符的数据表名！'}]}]"}],attrs:{placeholder:"填写数据表名",allowClear:""}})],1),t("a-form-item",{staticClass:"roiders",attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述",hasFeedback:""}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["des",{initialValue:e.savedata.des,rules:[{max:255,message:"最多输入255个字"}]}],expression:"['des', {initialValue:savedata.des,rules: [{ max: 255, message: '最多输入255个字'}]}]"}],attrs:{rows:5,placeholder:"..."}})],1),t("a-form-item",{staticClass:"roiders",attrs:{label:"状态:",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:e.savedata.status}],expression:"['status',{initialValue:savedata.status}]"}]},[t("a-radio",{attrs:{value:0}},[e._v("正常")]),t("a-radio",{attrs:{value:1}},[e._v("隐藏")])],1)],1),t("a-form-item",{staticStyle:{"text-align":"center","margin-top":"12px"},attrs:{wrapperCol:{span:24}}},[t("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("form.basic-form.form.submit")))]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.onReset}},[e._v(e._s(e.$t("form.basic-form.form.reset")))])],1)],1)],1)],1)},l=[],s=(t("d3b7"),t("4de4"),t("8ded")),i=t.n(s),o={name:"addGroup",components:{},data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),catelist:[],savedata:{pid:"",name:"",status:0,des:"",table_name:""},id:0}},props:{layerid:{type:String,default:""},lydata:{type:Object,default:function(){return{}}},lyoption:{type:Object,default:function(){return{}}}},created:function(){var e=this;if(this.lydata.data){var a=this.lydata.data;this.getdata(),this.$nextTick((function(){e.id=a.id,e.form.setFieldsValue({cid:a.cid,title:a.title,table_name:a.table_name,status:a.status,des:a.des})}))}else this.getdata(),this.$nextTick((function(){e.form.setFieldsValue({status:0})}));this.all_layerid=i.a.get("layerid"),this.all_layerid||(this.all_layerid=[]),this.all_layerid.push(this.layerid),i.a.set("layerid",this.all_layerid,864e5)},methods:{getdata:function(){var e=this;this.confirmLoading=!0,this.$request({url:"developer/apidoc/getparentcate",method:"get"}).then((function(a){e.catelist=a.data})).catch((function(e){})).finally((function(){e.confirmLoading=!1}))},onReset:function(){this.form.resetFields(),this.form.setFieldsValue({status:0})},handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields((function(e,t){e||(a.confirmLoading=!0,t["id"]=a.id,a.$request({url:"developer/apidoc/addcontent",method:"post",data:t}).then((function(e){0==e.code?(a.$message.success(e.msg),a.$layer.close(a.layerid),a.all_layerid&&a.all_layerid.length>0&&(a.all_layerid=a.all_layerid.filter((function(e){return e!=a.layerid})),i.a.set("layerid",a.all_layerid,864e5)),a.$parent.refleshTable()):a.$message.error(e.msg)})).catch((function(e){})).finally((function(){a.confirmLoading=!1})))}))}}},n=o,d=(t("fa3b"),t("2877")),c=Object(d["a"])(n,r,l,!1,null,"5c198342",null);a["default"]=c.exports},fa3b:function(e,a,t){"use strict";t("33cf")}}]);