(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7373300a"],{"00d8":function(e,r){(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(e,r){return e<<r|e>>>32-r},rotr:function(e,r){return e<<32-r|e>>>r},endian:function(e){if(e.constructor==Number)return 16711935&t.rotl(e,8)|4278255360&t.rotl(e,24);for(var r=0;r<e.length;r++)e[r]=t.endian(e[r]);return e},randomBytes:function(e){for(var r=[];e>0;e--)r.push(Math.floor(256*Math.random()));return r},bytesToWords:function(e){for(var r=[],t=0,a=0;t<e.length;t++,a+=8)r[a>>>5]|=e[t]<<24-a%32;return r},wordsToBytes:function(e){for(var r=[],t=0;t<32*e.length;t+=8)r.push(e[t>>>5]>>>24-t%32&255);return r},bytesToHex:function(e){for(var r=[],t=0;t<e.length;t++)r.push((e[t]>>>4).toString(16)),r.push((15&e[t]).toString(16));return r.join("")},hexToBytes:function(e){for(var r=[],t=0;t<e.length;t+=2)r.push(parseInt(e.substr(t,2),16));return r},bytesToBase64:function(e){for(var t=[],a=0;a<e.length;a+=3)for(var o=e[a]<<16|e[a+1]<<8|e[a+2],n=0;n<4;n++)8*a+6*n<=8*e.length?t.push(r.charAt(o>>>6*(3-n)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],a=0,o=0;a<e.length;o=++a%4)0!=o&&t.push((r.indexOf(e.charAt(a-1))&Math.pow(2,-2*o+8)-1)<<2*o|r.indexOf(e.charAt(a))>>>6-2*o);return t}};e.exports=t})()},"044b":function(e,r){function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function a(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(t(e)||a(e)||!!e._isBuffer)}},"4e38":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"layerbox"},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",{attrs:{label:e.$t("form.basic-form.name"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,hasFeedback:""}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:e.$t("form.basic-form.name.placeholder")}]}],expression:"['name', {rules:[{required: true, message: $t('form.basic-form.name.placeholder')}]}]"}],attrs:{allowClear:"",placeholder:e.$t("form.basic-form.name.placeholder")}})],1),t("a-form-item",{attrs:{label:e.$t("form.basic-form.phone-number"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,hasFeedback:""}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telephone",{rules:[{pattern:/^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/gi,message:e.$t("form.basic-form.phone-number.required")}]}],expression:"['telephone',{rules: [\n          {pattern: /^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/ig, message:$t('form.basic-form.phone-number.required')}]}]"}],attrs:{allowClear:"",placeholder:e.$t("form.basic-form.phone-number.required")}})],1),t("a-form-item",{attrs:{label:e.$t("user.login.account"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,hasFeedback:""}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入登录账户",pattern:/^[A-Za-z0-9_\-_\/_@]+$/gi,message:"输入只能是数字、字母、下划线"}]}],expression:"[\n                'username',\n                 {rules: [{ required: true, message:'请输入登录账户' ,pattern: /^[A-Za-z0-9_\\-_\\/_@]+$/ig, message: '输入只能是数字、字母、下划线'}]}]"}],attrs:{allowClear:"",type:"text",placeholder:e.$t("user.login.username.placeholder")}},[t("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),t("a-form-item",{attrs:{label:e.$t("user.login.password"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,help:e.id>0?"不修改密码请留空":"不填写密码则默认123456",hasFeedback:""}},[t("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{validateTrigger:"blur"}],expression:"[\n                'password',\n                { validateTrigger: 'blur'}\n              ]"}],attrs:{allowClear:"",placeholder:e.$t("user.login.password.placeholder")}},[t("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),t("a-form-item",{attrs:{label:"有效时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,help:"不选择永久有效，若选择则以选择时间为有效时限"}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["valid_time"],expression:"['valid_time']"}],staticStyle:{width:"100%"},attrs:{format:e.dateFormat}})],1),t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"权限组",hasFeedback:""}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["groupids",{rules:[{required:!0,message:"请选择权限组"}]}],expression:"['groupids',{rules:[{required: true, message: '请选择权限组'}]}]"}],staticStyle:{width:"100%"},attrs:{mode:"multiple",allowClear:!0,placeholder:"选择权限组"}},e._l(e.list,(function(r,a){return t("a-select-option",{key:a,attrs:{value:r.id}},[t("span",{domProps:{innerHTML:e._s(r.name_txt)}})])})),1)],1),t("a-form-item",{staticStyle:{"text-align":"center","margin-top":"12px"},attrs:{wrapperCol:{span:24}}},[t("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("form.basic-form.form.submit")))]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.onReset}},[e._v(e._s(e.$t("form.basic-form.form.reset")))])],1)],1)],1)],1)},o=[],n=t("5530"),i=(t("b0c0"),t("d3b7"),t("4de4"),t("c1df")),s=t.n(i),l=t("6821"),u=t.n(l),c=t("8ded"),d=t.n(c),f={data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),dateFormat:"YYYY-MM-DD",list:[],savedata:{},id:0,all_layerid:[]}},props:{layerid:{type:String,default:""},lydata:{type:Object,default:function(){return{}}},lyoption:{type:Object,default:function(){return{}}}},created:function(){var e=this;if(this.getdata(),this.lydata.data){var r=this.lydata.data;this.$nextTick((function(){e.id=r.id;var t="";0!=r.valid_time&&(t={valid_time:s()(e.dateToStr(1e3*r.valid_time),e.dateFormat)}),e.form.setFieldsValue(Object(n["a"])({name:r.name,username:r.username,telephone:r.telephone,groupids:r.groupids},t))}))}else this.$nextTick((function(){e.form.setFieldsValue({})}));this.all_layerid=d.a.get("layerid"),this.all_layerid||(this.all_layerid=[]),this.all_layerid.push(this.layerid),d.a.set("layerid",this.all_layerid,864e5)},methods:{getdata:function(){var e=this;this.$request({url:"auth/group/grouptree",method:"get"}).then((function(r){e.list=r.data})).catch((function(e){})).finally((function(){}))},onReset:function(){this.form.resetFields()},handleSubmit:function(e){var r=this;e.preventDefault(),this.form.validateFields((function(e,t){e||(r.confirmLoading=!0,t["id"]=r.id,0==r.id&&(t["password"]||(t["password"]="123456")),t["password"]&&(t["password"]=u()(t["password"])),t.valid_time&&(t["valid_time"]=r.dateToStr(t.valid_time)),r.$request({url:"admin/user/add",method:"post",data:t}).then((function(e){0==e.code?(r.$message.success(e.msg),r.$layer.close(r.layerid),r.all_layerid&&r.all_layerid.length>0&&(r.all_layerid=r.all_layerid.filter((function(e){return e!=r.layerid})),d.a.set("layerid",r.all_layerid,864e5)),r.$parent.reflesh()):r.$message.error(e.msg)})).catch((function(e){})).finally((function(){r.confirmLoading=!1})))}))},dateToStr:function(e){var r=new Date(e),t=r.getFullYear(),a=r.getMonth()+1,o=r.getDate();return a<10&&(a="0"+a),o<10&&(o="0"+o),t+"/"+a+"/"+o}}},p=f,m=(t("c6ca"),t("2877")),h=Object(m["a"])(p,a,o,!1,null,"46d817a8",null);r["default"]=h.exports},6821:function(e,r,t){(function(){var r=t("00d8"),a=t("9a634").utf8,o=t("044b"),n=t("9a634").bin,i=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?n.stringToBytes(e):a.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var s=r.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,d=-1732584194,f=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[l>>>5]|=128<<l%32,s[14+(l+64>>>9<<4)]=l;var m=i._ff,h=i._gg,g=i._hh,b=i._ii;for(p=0;p<s.length;p+=16){var y=u,v=c,w=d,_=f;u=m(u,c,d,f,s[p+0],7,-680876936),f=m(f,u,c,d,s[p+1],12,-389564586),d=m(d,f,u,c,s[p+2],17,606105819),c=m(c,d,f,u,s[p+3],22,-1044525330),u=m(u,c,d,f,s[p+4],7,-176418897),f=m(f,u,c,d,s[p+5],12,1200080426),d=m(d,f,u,c,s[p+6],17,-1473231341),c=m(c,d,f,u,s[p+7],22,-45705983),u=m(u,c,d,f,s[p+8],7,1770035416),f=m(f,u,c,d,s[p+9],12,-1958414417),d=m(d,f,u,c,s[p+10],17,-42063),c=m(c,d,f,u,s[p+11],22,-1990404162),u=m(u,c,d,f,s[p+12],7,1804603682),f=m(f,u,c,d,s[p+13],12,-40341101),d=m(d,f,u,c,s[p+14],17,-1502002290),c=m(c,d,f,u,s[p+15],22,1236535329),u=h(u,c,d,f,s[p+1],5,-165796510),f=h(f,u,c,d,s[p+6],9,-1069501632),d=h(d,f,u,c,s[p+11],14,643717713),c=h(c,d,f,u,s[p+0],20,-373897302),u=h(u,c,d,f,s[p+5],5,-701558691),f=h(f,u,c,d,s[p+10],9,38016083),d=h(d,f,u,c,s[p+15],14,-660478335),c=h(c,d,f,u,s[p+4],20,-405537848),u=h(u,c,d,f,s[p+9],5,568446438),f=h(f,u,c,d,s[p+14],9,-1019803690),d=h(d,f,u,c,s[p+3],14,-187363961),c=h(c,d,f,u,s[p+8],20,1163531501),u=h(u,c,d,f,s[p+13],5,-1444681467),f=h(f,u,c,d,s[p+2],9,-51403784),d=h(d,f,u,c,s[p+7],14,1735328473),c=h(c,d,f,u,s[p+12],20,-1926607734),u=g(u,c,d,f,s[p+5],4,-378558),f=g(f,u,c,d,s[p+8],11,-2022574463),d=g(d,f,u,c,s[p+11],16,1839030562),c=g(c,d,f,u,s[p+14],23,-35309556),u=g(u,c,d,f,s[p+1],4,-1530992060),f=g(f,u,c,d,s[p+4],11,1272893353),d=g(d,f,u,c,s[p+7],16,-155497632),c=g(c,d,f,u,s[p+10],23,-1094730640),u=g(u,c,d,f,s[p+13],4,681279174),f=g(f,u,c,d,s[p+0],11,-358537222),d=g(d,f,u,c,s[p+3],16,-722521979),c=g(c,d,f,u,s[p+6],23,76029189),u=g(u,c,d,f,s[p+9],4,-640364487),f=g(f,u,c,d,s[p+12],11,-421815835),d=g(d,f,u,c,s[p+15],16,530742520),c=g(c,d,f,u,s[p+2],23,-995338651),u=b(u,c,d,f,s[p+0],6,-198630844),f=b(f,u,c,d,s[p+7],10,1126891415),d=b(d,f,u,c,s[p+14],15,-1416354905),c=b(c,d,f,u,s[p+5],21,-57434055),u=b(u,c,d,f,s[p+12],6,1700485571),f=b(f,u,c,d,s[p+3],10,-1894986606),d=b(d,f,u,c,s[p+10],15,-1051523),c=b(c,d,f,u,s[p+1],21,-2054922799),u=b(u,c,d,f,s[p+8],6,1873313359),f=b(f,u,c,d,s[p+15],10,-30611744),d=b(d,f,u,c,s[p+6],15,-1560198380),c=b(c,d,f,u,s[p+13],21,1309151649),u=b(u,c,d,f,s[p+4],6,-145523070),f=b(f,u,c,d,s[p+11],10,-1120210379),d=b(d,f,u,c,s[p+2],15,718787259),c=b(c,d,f,u,s[p+9],21,-343485551),u=u+y>>>0,c=c+v>>>0,d=d+w>>>0,f=f+_>>>0}return r.endian([u,c,d,f])};i._ff=function(e,r,t,a,o,n,i){var s=e+(r&t|~r&a)+(o>>>0)+i;return(s<<n|s>>>32-n)+r},i._gg=function(e,r,t,a,o,n,i){var s=e+(r&a|t&~a)+(o>>>0)+i;return(s<<n|s>>>32-n)+r},i._hh=function(e,r,t,a,o,n,i){var s=e+(r^t^a)+(o>>>0)+i;return(s<<n|s>>>32-n)+r},i._ii=function(e,r,t,a,o,n,i){var s=e+(t^(r|~a))+(o>>>0)+i;return(s<<n|s>>>32-n)+r},i._blocksize=16,i._digestsize=16,e.exports=function(e,t){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var a=r.wordsToBytes(i(e,t));return t&&t.asBytes?a:t&&t.asString?n.bytesToString(a):r.bytesToHex(a)}})()},"9a634":function(e,r){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var r=[],t=0;t<e.length;t++)r.push(255&e.charCodeAt(t));return r},bytesToString:function(e){for(var r=[],t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return r.join("")}}};e.exports=t},a0f9:function(e,r,t){},c6ca:function(e,r,t){"use strict";t("a0f9")}}]);